---
import { getCollection, render } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const posts = await getCollection('posts');

  return posts.map((post) => ({
    params: {
      // Remove the .mdoc extension for cleaner URLs
      slug: post.id.replace('.mdoc', ''),
    },
    props: { post },
  }));
}
const { post } = Astro.props;
const { Content } = await render(post);
---

<Layout
  title={`Blog Â· ${post.data.title}`}
  description="Explore a diverse portfolio showcasing my passion and expertise"
>
  <section class="min-h-dvh py-16 sm:py-20">
    <article class="prose dark:prose-invert mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8">
      <h1>{post.data.title}</h1>
      <Content />
    </article>
  </section>
</Layout>
